%% init the music variables

mrMusic.init;

%% melody definition

barDurationSeconds=3; 
timeSignature = 4/4; % it is actually 2/4 but Jochen has readily put two bars together...

% Rudolph the Red-Nosed Reindeer by Johnny Marks
% 3-voice MRI version by Jochen Leupold (it was actually a 4-voice version of which the forth was discarded)
melody = {
    % bars 1+2
    [g2/12 a2/12 a2/24 g2/24 e2/9 o/72 c3/9 o/72 a2/9 a2/72 g2/12 g2/24 g2/12 g2/24 g2/9 o/72], ...
    [e2/12 f2/12 f2/24 e2/24 c2/9 o/72 e2/9 o/72 f2/9 f2/72 e2/12 e2/24 e2/12 e2/24 e2/9 o/72], ...
    [cb/12 o/24  eb/12 o/24  gbb/12 o/24 eb/12 o/24 cb/12 o/24 eb/12 o/24 gbb/12 o/24 eb/12 o/24]; ...
    % bars 3+4
    [g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*8 o/72*1 c3/72*8   o/72*1 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*6 o/72*3], ...
    [e2/72*6 f2/72*3 e2/72*6 f2/72*3 e2/72*8 o/72*1 fis2/72*8 o/72*1 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 o/72*3], ...
    [cb/72*6 o/72*3  eb/72*6  o/72*3 eb/72*6 o/72*3 disb/72*6 o/72*3 db/72*6 o/72*3  fb/72*6 o/72*3  gbb/72*6 o/72*3 fb/72*6 o/72*3]; ...
    % bars 5+6
    [f2/72*6 g2/72*3 f2/72*8 o/72*1 d2/72*8 o/72*1 h2/72*8 o/72*1 a2/72*8 o/72*1 g2/72*6 g2/72*3 g2/72*6 g2/72*3 g2/72*8 o/72*1], ...
    [d2/72*6 e2/72*3 d2/72*8 o/72*1 h1/72*8 o/72*1 d2/72*8 o/72*1 f2/72*8 o/72*1 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*8 o/72*1], ...
    [db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3]; ...
    % bar 7+8
    [g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*8 o/72*1 a2/72*8 o/72*1 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 o/72*3], ...
    [f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*8 o/72*1 dis2/72*8 o/72*1 c2/72*6 c2/72*3 c2/72*6 c2/72*3 c2/72*6 c2/72*3 c2/72*6 o/72*3], ...
    [db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3]; ...
    % bars 9+10
    [g2/72*6 a2/72*6 a2/72*3 g2/72*3 e2/72*8 o/72*1 c3/72*8 o/72*1 a2/72*6 a2/72*3 g2/72*6 g2/72*3 g2/72*6 g2/72*3 g2/72*8 o/72*1], ...
    [e2/72*6 f2/72*6 f2/72*3 e2/72*3 c2/72*8 o/72*1 e2/72*8 o/72*1 f2/72*6 f2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*8 o/72*1], ...
    [cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3]; ...
    % bars 11+12
    [g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*6 g2/72*3 c3/72*6 c3/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3], ...
    [e2/72*6 f2/72*3 e2/72*6 f2/72*3 e2/72*6 e2/72*3 fis2/72*6 fis2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3], ...
    [cb/72*6 o/72*3 eb/72*6 o/72*3 eb/72*6 o/72*3 disb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3]; ...
    % bars 13+14
    [f2/72*6 g2/72*3 f2/72*8 o/72*1 d2/72*8 o/72*1 h2/72*8 o/72*1 a2/72*8 o/72*1 g2/72*6 g2/72*3 g2/72*6 g2/72*3 g2/72*8 o/72*1], ...
    [d2/72*6 e2/72*3 d2/72*8 o/72*1 h1/72*8 o/72*1 d2/72*8 o/72*1 f2/72*8 o/72*1 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*8 o/72*1], ...
    [db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3]; ...
    % bars 15+16
    [g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*6 g2/72*3 d3/72*6 d3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3], ...
    [f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 o/72*3], ...
    [db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3]; ...
    % bars 17+18
    [a2/72*8 o/72*1 a2/72*8 o/72*1 c3/72*6 c3/72*3 c3/72*5 o/72*1 a2/72*3 g2/72*8 o/72*1 e2/72*8 o/72*1 g2/72*6 g2/72*3 g2/72*6 g2/72*3], ...
    [f2/72*8 o/72*1 f2/72*8 o/72*1 a2/72*6 a2/72*3 a2/72*5 o/72*1 f2/72*3 e2/72*8 o/72*1 c2/72*8 o/72*1 e2/72*6 e2/72*3 e2/72*6 e2/72*3], ...
    [fb/72*6 o/72*3 ab/72*6 o/72*3 cb/72*6 o/72*3 ab/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3]; ...
    % bars 19+20
    [f2/72*8 o/72*1 a2/72*6 a2/72*3 g2/72*6 g2/72*3 f2/72*6 f2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 o/72*3], ...
    [d2/72*8 o/72*1 f2/72*6 f2/72*3 e2/72*6 e2/72*3 d2/72*6 d2/72*3 c2/72*8 c2/72*1 c2/72*8 c2/72*1 c2/72*6 c2/72*3 c2/72*6 o/72*3], ...
    [db/72*6 o/72*3 ab/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3]; ...
    % bars 21+22
    [d2/72*9 e2/72*9 g2/72*9 a2/72*9 h2/72*8 o/72*1 h2/72*8 o/72*1 h2/72*9 h2/72*6 o/72*3], ...
    [h1/72*9 h1/72*9 d2/72*9 c2/72*9 g2/72*8 o/72*1 g2/72*8 o/72*1 e2/72*9 e2/72*6 o/72*3], ...
    [gbb/72*6 o/72*3 db/72*6 o/72*3 eb/72*6 o/72*3 disb/72*6 o/72*3 db/72*6 o/72*3 gb/72*6 o/72*3 gisbb/72*6 o/72*3 db/72*6 o/72*3]; ...
    % bars 23+24
    [c3/72*8 o/72*1 c3/72*8 o/72*1 h2/72*9 a2/72*9 g2/72*9 f2/72*6 d2/72*3 d2/72*9 d2/72*8 o/72*1], ...
    [e2/72*8 o/72*1 e2/72*8 o/72*1 d2/72*9 c2/72*9 h1/72*9 a1/72*6 f1/72*3 f1/72*9 f1/72*8 o/72*1], ...
    [abb/72*6 o/72*3 eb/72*6 o/72*3 db/72*6 o/72*3 fisb/72*6 o/72*3 gbb/72*6 o/72*3 abb/72*6 o/72*3 hbb/72*6 hbb/72*3 hbb/72*8 o/72*1]; ...
    % bars 25+26
    [g2/72*6 a2/72*6 a2/72*3 g2/72*3 e2/72*8 o/72*1 c3/72*8 o/72*1 a2/72*6 a2/72*3 g2/72*6 g2/72*3 g2/72*8 g2/72*1 g2/72*8 o/72*1], ...
    [e2/72*6 f2/72*6 f2/72*3 e2/72*3 c2/72*8 o/72*1 e2/72*8 o/72*1 f2/72*6 f2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*8 o/72*1], ...
    [cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3]; ...
    % bars 27+28
    [g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*6 g2/72*3 c3/72*6 c3/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*8 o/72*1], ...
    [e2/72*6 f2/72*3 e2/72*6 f2/72*3 e2/72*6 e2/72*3 fis2/72*6 fis2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*8 o/72*1], ...
    [cb/72*6 o/72*3 eb/72*6 o/72*3 eb/72*6 o/72*3 disb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3]; ...
    % bars 29+30
    [f2/72*6 g2/72*3 f2/72*8 o/72*1 d2/72*8 o/72*1 h2/72*8 o/72*1 a2/72*8 o/72*1 g2/72*6 g2/72*3 g2/72*6 g2/72*3 g2/72*8 o/72*1], ...
    [d2/72*6 e2/72*3 d2/72*8 o/72*1 h1/72*8 o/72*1 d2/72*8 o/72*1 f2/72*8 o/72*1 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*8 o/72*1], ...
    [db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3]; ...
    % bars 31+32
    [g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*6 g2/72*3 d3/72*6 d3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3], ...
    [f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 o/72*3], ...
    [db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3]; ...
    % bars 34+end
    [a2/72*6   h2/72*3   c3/72*6   a2/72*3   h2/72*6 h2/72*3 d3/72*6  d3/72*3 c3/72*9 c3/72*9 c3/72*9 o/72*9], ... % the duration of 27 did not work on Prisma, so we split it to 3 notes
    [fis2/72*6 fis2/72*3 fis2/72*6 fis2/72*3 f2/72*6 f2/72*3 f2/72*6  f2/72*3 e2/72*9 e2/72*9 e2/72*9 o/72*9], ...
    [disb/72*6 o/72*3    disb/72*6 o/72*3    db/72*6 o/72*3  gbb/72*6 o/72*3  cb/72*9 cb/72*9 cb/72*9 o/72*9]; ...
};    

    % % bars X
    % [], ...
    % [], ...
    % []; ...

% cat rudolph.cpp | grep 'freq1.*n1\|[Aa]nfang\|[Tt]akt' | sed 's/freq.=\(.*\); n1=\([0-9]*\); for.*/\1\/72*\2/;s/^0/o/' | tr '\n\r' '  '
% g2/72*6 a2/72*6 a2/72*3 g2/72*3 e2/72*8 o/72*1 c3/72*8 o/72*1 a2/72*8 a2/72*1 g2/72*6 g2/72*3 g2/72*6 g2/72*3 g2/72*8 o/72*1 //Takt 3+4  g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*8 o/72*1 c3/72*8 o/72*1 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*6 o/72*3   //Takt 5+6	  f2/72*6 g2/72*3 f2/72*8 o/72*1 d2/72*8 o/72*1 h2/72*8 o/72*1 a2/72*8 o/72*1 g2/72*6 g2/72*3 g2/72*6 g2/72*3 g2/72*8 o/72*1 
% //takt 7+8  g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*8 o/72*1 a2/72*8 o/72*1 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 o/72*3   //Takt 9+10  g2/72*6 a2/72*6 a2/72*3 g2/72*3 e2/72*8 o/72*1 c3/72*8 o/72*1 a2/72*6 a2/72*3 g2/72*6 g2/72*3 g2/72*6 g2/72*3 g2/72*8 o/72*1 //Takt 11+12  g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*6 g2/72*3 c3/72*6 c3/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 
% //Takt 13+14  f2/72*6 g2/72*3 f2/72*8 o/72*1 d2/72*8 o/72*1 h2/72*8 o/72*1 a2/72*8 o/72*1 g2/72*6 g2/72*3 g2/72*6 g2/72*3 g2/72*8 o/72*1 //Takt 15+16  g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*6 g2/72*3 d3/72*6 d3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 //Takt 17+18  a2/72*8 o/72*1 a2/72*8 o/72*1 c3/72*6 c3/72*3 c3/72*5 o/72*1 a2/72*3 g2/72*8 o/72*1 e2/72*8 o/72*1 g2/72*6 g2/72*3 g2/72*6 g2/72*3 
% //Takt 19+20 f2/72*8 o/72*1 a2/72*6 a2/72*3 g2/72*6 g2/72*3 f2/72*6 f2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 o/72*3 //Takt 21+22  db/72*6 o/72*3 ab/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 //Takt 23+24  c3/72*8 o/72*1 c3/72*8 o/72*1 h2/72*9 a2/72*9 g2/72*9 f2/72*6 d2/72*3 d2/72*9 d2/72*8 o/72*1 
% // Takt 25+26  g2/72*6 a2/72*6 a2/72*3 g2/72*3 e2/72*8 o/72*1 c3/72*8 o/72*1 a2/72*6 a2/72*3 g2/72*6 g2/72*3 g2/72*8 g2/72*1 g2/72*8 o/72*1 //Takt 27+28  g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*6 g2/72*3 c3/72*6 c3/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*6 h2/72*3 h2/72*8 o/72*1 //Takt 29+30  f2/72*6 g2/72*3 f2/72*8 o/72*1 d2/72*8 o/72*1 h2/72*8 o/72*1 a2/72*8 o/72*1 g2/72*6 g2/72*3 g2/72*6 g2/72*3 g2/72*8 o/72*1 
% // Takt 31+32 g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*6 g2/72*3 d3/72*6 d3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 //Takt 31+32  /*g2/72*6 a2/72*3 g2/72*6 a2/72*3 g2/72*6 g2/72*3 d3/72*6 d3/72*3 dis2/72*6 f2/72*3 f2/72*6 dis2/72*3 c2/72*6 c2/72*3 gis2/72*6 gis2/72*3 //Takt 34  a2/72*6 h2/72*3 c3/72*6 a2/72*3 h2/72*6 h2/72*3 d3/72*6 d3/72*3 c3/72*27 o/72*9
% e2/72*6 f2/72*6 f2/72*3 e2/72*3 c2/72*8 o/72*1 e2/72*8 o/72*1 f2/72*8 f2/72*1 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*8 o/72*1 //Takt 3+4  e2/72*6 f2/72*3 e2/72*6 f2/72*3 e2/72*8 o/72*1 fis2/72*8 o/72*1 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 o/72*3 //Takt 5+6	  d2/72*6 e2/72*3 d2/72*8 o/72*1 h1/72*8 o/72*1 d2/72*8 o/72*1 f2/72*8 o/72*1 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*8 o/72*1 
% //takt 7+8  f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*8 o/72*1 dis2/72*8 o/72*1 c2/72*6 c2/72*3 c2/72*6 c2/72*3 c2/72*6 c2/72*3 c2/72*6 o/72*3 //Takt 9+10  e2/72*6 f2/72*6 f2/72*3 e2/72*3 c2/72*8 o/72*1 e2/72*8 o/72*1 f2/72*6 f2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*8 o/72*1 //Takt 11+12  e2/72*6 f2/72*3 e2/72*6 f2/72*3 e2/72*6 e2/72*3 fis2/72*6 fis2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 
% //Takt 13+14  d2/72*6 e2/72*3 d2/72*8 o/72*1 h1/72*8 o/72*1 d2/72*8 o/72*1 f2/72*8 o/72*1 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*8 o/72*1 //Takt 15+16  f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 o/72*3 //Takt 17+18  f2/72*8 o/72*1 f2/72*8 o/72*1 a2/72*6 a2/72*3 a2/72*5 o/72*1 f2/72*3 e2/72*8 o/72*1 c2/72*8 o/72*1 e2/72*6 e2/72*3 e2/72*6 e2/72*3 
% //Takt 19+20 d2/72*8 o/72*1 f2/72*6 f2/72*3 e2/72*6 e2/72*3 d2/72*6 d2/72*3 c2/72*8 c2/72*1 c2/72*8 c2/72*1 c2/72*6 c2/72*3 c2/72*6 o/72*3 //Takt 21+22  h1/72*9 h1/72*9 d2/72*9 c2/72*9 g2/72*8 o/72*1 g2/72*8 o/72*1 e2/72*9 e2/72*6 o/72*3 //Takt 23+24  e2/72*8 o/72*1 e2/72*8 o/72*1 d2/72*9 c2/72*9 h1/72*9 a1/72*6 f1/72*3 f1/72*9 f1/72*8 o/72*1 
% // Takt 25+26  e2/72*6 f2/72*6 f2/72*3 e2/72*3 c2/72*8 o/72*1 e2/72*8 o/72*1 f2/72*6 f2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*8 o/72*1 //Takt 27+28  e2/72*6 f2/72*3 e2/72*6 f2/72*3 e2/72*6 e2/72*3 fis2/72*6 fis2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*8 o/72*1 //Takt 29+30  d2/72*6 e2/72*3 d2/72*8 o/72*1 h1/72*8 o/72*1 d2/72*8 o/72*1 f2/72*8 o/72*1 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*8 o/72*1 
% //Takt 31+32 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 e2/72*3 e2/72*6 o/72*3 //Takt 31+32  f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 c3/72*6 c3/72*3 //Takt 34  fis2/72*6 fis2/72*3 fis2/72*6 fis2/72*3 f2/72*6 f2/72*3 f2/72*6 f2/72*3 e2/72*27 o/72*9
% cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3    //Takt 3+4  cb/72*6 o/72*3 eb/72*6 o/72*3 eb/72*6 o/72*3 disb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3     //Takt 5+6	  db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 
% //takt 7+8  db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3      //Takt 9+10  cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 //Takt 11+12  cb/72*6 o/72*3 eb/72*6 o/72*3 eb/72*6 o/72*3 disb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 
% //Takt 13+14  db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 //Takt 15+16  db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 //Takt 17+18  fb/72*6 o/72*3 ab/72*6 o/72*3 cb/72*6 o/72*3 ab/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3      
% //Takt 19+20 db/72*6 o/72*3 ab/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 //Takt 21+22  gbb/72*6 o/72*3 db/72*6 o/72*3 eb/72*6 o/72*3 disb/72*6 o/72*3 db/72*6 o/72*3 gb/72*6 o/72*3 gisbb/72*6 o/72*3 db/72*6 o/72*3 //Takt 23+24  abb/72*6 o/72*3 eb/72*6 o/72*3 db/72*6 o/72*3 fisb/72*6 o/72*3 gbb/72*6 o/72*3 abb/72*6 o/72*3 hbb/72*6 hbb/72*3 hbb/72*8 o/72*1 
% // Takt 25+26  cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 //Takt 27+28  cb/72*6 o/72*3 eb/72*6 o/72*3 eb/72*6 o/72*3 disb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 //Takt 29+30  db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 
% //Takt 31+32 db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 cb/72*6 o/72*3 eb/72*6 o/72*3 gbb/72*6 o/72*3 eb/72*6 o/72*3 //Takt 31+32  db/72*6 o/72*3 fb/72*6 o/72*3 gbb/72*6 o/72*3 fb/72*6 o/72*3 fisb/72*6 gisb/72*3 gisb/72*6 fisb/72*3 disb/72*6 disb/72*3 c1/72*6 c1/72*3 //Takt 34  disb/72*6 o/72*3 disb/72*6 o/72*3 db/72*6 o/72*3 gbb/72*6 o/72*3 freq3=cb;  n1=27; for (j=1; j<=n1; j++) {block[blockcount3][3]=freq3; blockcount3++;}

%% convert to the channel-frequency table

[pitches, durations] = mrMusic.melodyToPitchesAndDurations(melody,'timeSignature',timeSignature);

%% Pulseq sequence 

% never use full gradient performance because it is almost impossible to
% avoid the mechanical resonances of the gradient system completely
sys = mr.opts('MaxGrad',18,'GradUnit','mT/m',...
    'MaxSlew',160,'SlewUnit','T/m/s',...
    'rfRingdownTime', 20e-6, 'rfDeadtime', 100e-6 ...
);  
seq=mr.Sequence(sys);      % Create a new sequence object

pulseqUseWave=false; % use the "UseWave" option with case as it is really demanding both on the Pulseq environment and the scanner (shape memory)

seq = mrMusic.musicToSequence(seq, pitches, durations, 'barDurationSeconds', barDurationSeconds, 'axesOrder', 'zyx', 'pulseqUseWave', pulseqUseWave);

%% output
if pulseqUseWave
    seq.setDefinition('Name', 'rudolph');
    seq.write('rudolph.seq');
else
    seq.setDefinition('Name', 'rudolph1');
    seq.write('rudolph1.seq');
end
return
%% play

seq.sound();

return
%% optional slow step for checking whether we are staying within slew rate limits  

rep = seq.testReport; 
fprintf([rep{:}]); 
